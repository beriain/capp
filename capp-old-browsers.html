<html>
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1">
		<title>Work System Station</title>
		<!--CSS-->
		<style>
			progress{
				background-color: gray;
				border:0;
				width:400px;
				height:25px;
			}
			body{
				background-color: #f3f3f3;
			}
			textarea{
				width:400px;
				height:60%;
				resize:none;
			}
			button{
				height:30px;
				background-color:blue;
				color:white;
				font-weight:bold;
				font-family:sans-serif;
				margin-right: 5px;
			}
			button:disabled{
				background-color:transparent;
				color:gray;
			}
			button:hover{
				background-color:#0064B4;
			}
			meter{
				width:200px;
			}
		</style>
		<!--JAVASCRIPT-->
		<script>
			function load()
			{
				loading();
				measure();
			}
			function loading()
			{
				var to = Math.floor((Math.random() * 500) + 10);
				var bar = document.getElementById("progress-bar");
				var x = document.getElementById("p");
				var b = document.getElementById("resume");
				b.disabled = true;
				b.style.background = "#f3f3f3";
				var p = document.getElementById("pause");
				p.disabled = false;
				p.style.background = "blue";
				var n = bar.style.width;
				n = n.slice(0, -1);
				if(n < 100) n++;
				else n = 0;
				bar.style.width=n+"%";
				x.innerHTML = n;
				writeSentence();
				timeout = setTimeout(function(){loading()},to);
			}

			function writeSentence()
			{
				var v = Math.floor((Math.random() * 16) + 1);
				var s = Math.floor((Math.random() * 17) + 1);
				var n = Math.floor((Math.random() * 11) + 1);
				var f = document.getElementById("f");
				var l = document.getElementById("log");
				var phr = "";
				switch(v)
				{
					case 1:
						phr = phr + "Compiling ";
						break;
					case 2:
						phr = phr + "Assembling ";
						break;
					case 3:
						phr = phr + "Calculating ";
						break;
					case 4:
						phr = phr + "Replacing ";
						break;
					case 5:
						phr = phr + "Fixing ";
						break;
					case 6:
						phr = phr + "Assigning ";
						break;
					case 7:
						phr = phr + "Executing ";
						break;
					case 8:
						phr = phr + "Configuring ";
						break;
					case 9:
						phr = phr + "Parsing ";
						break;
					case 10:
						phr = phr + "Cleaning ";
						break;
					case 11:
						phr = phr + "Loading ";
						break;
					case 12:
						phr = phr + "Decrypting ";
						break;
					case 13:
						phr = phr + "Starting ";
						break;
					case 14:
						phr = phr + "Checking ";
						break;
					case 15:
						phr = phr + "Processing ";
						break;
					case 16:
						phr = phr + "Reading ";
						break;
				}
				switch(s)
				{
					case 1:
						phr = phr + "document ";
						break;
					case 2:
						phr = phr + "variable ";
						break;
					case 3:
						phr = phr + "algorithm ";
						break;
					case 4:
						phr = phr + "value ";
						break;
					case 5:
						phr = phr + "array ";
						break;
					case 6:
						phr = phr + "database ";
						break;
					case 7:
						phr = phr + "library ";
						break;
					case 8:
						phr = phr + "function ";
						break;
					case 9:
						phr = phr + "script ";
						break;
					case 10:
						phr = phr + "object ";
						break;
					case 11:
						phr = phr + "parameter ";
						break;
					case 12:
						phr = phr + "file ";
						break;
					case 13:
						phr = phr + "buffer ";
						break;
					case 14:
						phr = phr + "instruction ";
						break;
					case 15:
						phr = phr + "protocol ";
						break;
					case 16:
						phr = phr + "volume ";
						break;
					case 17:
						phr = phr + "directory ";
						break;
					case 18:
						phr = phr + "bookmark ";
						break;
				}
				switch(n)
				{
					case 1:
						phr = phr + "o.cpp... ";
						break;
					case 2:
						phr = phr + "doc.docx... ";
						break;
					case 3:
						phr = phr + "index.html... ";
						break;
					case 4:
						phr = phr + "new.xml... ";
						break;
					case 5:
						phr = phr + "table.xlsx... ";
						break;
					case 6:
						phr = phr + "file.py... ";
						break;
					case 7:
						phr = phr + "42... ";
						break;
					case 8:
						phr = phr + "db.sql... ";
						break;
					case 9:
						phr = phr + "config.sh... ";
						break;
					case 10:
						phr = phr + "main()... ";
						break;
					case 11:
						phr = phr + "script.js... ";
						break;
				}
				f.innerHTML = phr;
				log.value = phr + "\n" + log.value;
			}

			function stop()
			{
				var b = document.getElementById("resume");
				b.disabled = false;
				b.style.background = "blue";
				var p = document.getElementById("pause");
				p.disabled = true;
				p.style.background = "f3f3f3";
				clearTimeout(timeout);
				clearTimeout(tomeasure);
				var meter = document.getElementById("m");
				meter.style.width = 0;

				document.getElementById("f").innerHTML = "PAUSED.";
				var months = ["January", "February", "March", "April", "May", "June",
  				"July", "August", "September", "October", "November", "December"];
				var d = new Date();
				var s = d.getSeconds();
				var m = d.getMinutes();
				if(s < 10) s="0" + s;
				if(m < 10) m="0" + m;
				log.value = "System: PAUSED. (" + d.getHours() + ":" + m + ":" + s + " - "
				 	+ d.getDate() + " " + months[d.getMonth()] + " " + d.getFullYear() + ")" + "\n" + log.value;
			}

			function measure()
			{
				var meter = document.getElementById("m");
				var v = Math.floor((Math.random() * 100) + 1);
				if(v < 80) meter.style.background = "#77AA33";
				else meter.style.background = "#DDBB33";
				meter.style.width = v+"%";
				tomeasure = setTimeout(function(){measure()},500);
			}

			function showSliderValue()
			{
				document.getElementById("cores").innerHTML = document.getElementById("CoresBar").value;
				document.getElementById("ram").innerHTML = document.getElementById("RAMBar").value;
				document.getElementById("disk").innerHTML = document.getElementById("DiskBar").value;
			}

			function switchCompression()
			{
				if(document.getElementById("compression").checked)
				{
					var log = document.getElementById("log");
					log.value = "Compression enabled..." + "\n" + log.value;
					document.getElementById("clabel").innerHTML = "Enabled";
				}
				else
				{
					var log = document.getElementById("log");
					log.value = "Compression disabled..." + "\n" + log.value;
					document.getElementById("clabel").innerHTML = "Disabled";
				}
			}
		</script>
	</head>
	<body onload="load()">
		<div style="width:60%; float:left; height: 100%;">
			<h4 id="f"></h4>
			<div id="container" style="width:300px; height:15px; border:1px solid black;">
				<div id="progress-bar" style="width:50%;/*change this width */
					background:blue;
					height:15px;">
				</div>
			</div>
			<span id="p"></span>%<br/><br/>
			<button id="pause"onclick="stop()">Pause</button>
			<button id="resume"onclick="load()">Resume</button><br/><br/>
			Station's work load<br/>
			<div id="container2" style="width:200px; height:15px; background: grey;">
				<div id="m" style="width:50%;
					background:yellow;
					height:15px;">
				</div>
			</div>
			System log:<br/>
			<textarea id="log" readonly></textarea>
		</div>
		<div style="border:1px solid gray; width:30%; float:right; padding:5px; margin-top: 5px;">
			<div>
				Compression:
				<input id="compression" type="checkbox" onclick="switchCompression()">
				<label for="compression" id="clabel">Disabled</label>
			</div>
		</div>
	</body>
</html>
